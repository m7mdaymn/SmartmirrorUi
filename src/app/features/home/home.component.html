<div class="mirror-container">
  <!-- Welcome Screen -->
  <div class="welcome-screen" *ngIf="!showMainUI">
    <div class="time-display">
      <h1 class="time">{{ currentTime }}</h1>
      <p class="date">{{ currentDate }}</p>
      <div class="weather">
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="5"/>
          <line x1="12" y1="1" x2="12" y2="3"/>
          <line x1="12" y1="21" x2="12" y2="23"/>
          <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
          <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
          <line x1="1" y1="12" x2="3" y2="12"/>
          <line x1="21" y1="12" x2="23" y2="12"/>
          <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
          <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
        </svg>
        <span>{{ weather }}</span>
      </div>
    </div>
    <button class="start-btn" (click)="startMirror()">START</button>
  </div>

  <!-- Main UI -->
  <div class="main-ui" *ngIf="showMainUI">
    <button class="back-btn" (click)="goBack()">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M19 12H5M12 19l-7-7 7-7"/>
      </svg>
    </button>

    <!-- Small Clock at Top Center -->
    <div class="small-clock">
      <div class="clock-time">{{ currentTime }}</div>
      <div class="clock-date">{{ currentDate }}</div>
    </div>

    <!-- Left Side Buttons -->
    <div class="left-buttons">
      <!-- Heart Rate -->
      <button class="icon-btn" (click)="openHeartRate()" title="Heart Rate & Blood Pressure">
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
        </svg>
        <span class="label">Heart Rate</span>
      </button>

      <!-- Body Temperature (Human/Skin Temp - MLX90614) -->
      <button class="icon-btn" (click)="openBodyTemp()" title="Body Temperature">
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"/>
        </svg>
        <span class="label">Body Temp</span>
      </button>
    </div>

    <!-- Right Side Buttons -->
    <div class="right-buttons">
      <!-- Room Temperature & Humidity (DHT22) -->
      <button class="icon-btn" (click)="openRoomTemp()" title="Room Temperature & Humidity">
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
          <polyline points="9 22 9 12 15 12 15 22"/>
        </svg>
        <span class="label">Room Temp</span>
      </button>

      <!-- Gas Detection (MQ135) -->
      <button class="icon-btn" (click)="openGasDetection()" title="Air Quality & Gas Detection">
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M12 2L2 7l10 5 10-5-10-5z"/>
          <path d="M2 17l10 5 10-5M2 12l10 5 10-5"/>
        </svg>
        <span class="label">Gas Detect</span>
      </button>
    </div>

    <!-- Bottom Center Button -->
    <div class="bottom-center">
      <!-- Skincare AI (uses mlx90614 + dht22) -->
      <button class="icon-btn large" (click)="openSkincare()" title="AI Skincare Analysis">
        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M12 2a3 3 0 0 0-3 3v4a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3z"/>
          <path d="M12 16v6"/>
          <circle cx="12" cy="12" r="10"/>
          <path d="M8 14s1.5 2 4 2 4-2 4-2"/>
          <line x1="9" y1="9" x2="9.01" y2="9"/>
          <line x1="15" y1="9" x2="15.01" y2="9"/>
        </svg>
        <span class="label">Skincare AI</span>
      </button>
    </div>
  </div>
</div>
