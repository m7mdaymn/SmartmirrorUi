<div class="heart-page">
  <!-- Back Button -->
  <button class="back-btn" routerLink="/">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M19 12H5M12 19l-7-7 7-7"/>
    </svg>
  </button>

  <!-- Page Header -->
  <div class="page-header">
    <div class="title-section">
      <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
      </svg>
      <div class="title-text">
        <h1>Heart Rate Monitor</h1>
        <p class="subtitle">Real-time cardiac monitoring & analysis</p>
      </div>
    </div>
    
    <div class="status-badge" [class]="getStatusClass()">
      <div class="status-dot"></div>
      <span>{{ getStatusText() }}</span>
    </div>
  </div>

  <!-- Main Content -->
  <div class="content-grid">
    <!-- Left: Primary Metrics -->
    <div class="primary-metrics">
      <div class="metric-card">
        <div class="metric-label">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
          </svg>
          <span>Heart Rate</span>
        </div>
        <div class="metric-value">
          <span class="big-number">{{ heartRate }}</span>
          <span class="unit">BPM</span>
        </div>
        <div class="metric-trend">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/>
            <polyline points="17 6 23 6 23 12"/>
          </svg>
          <span>Normal Range</span>
        </div>
      </div>

      <div class="metric-row">
        <div class="small-metric">
          <div class="metric-label">Systolic</div>
          <div class="metric-value">{{ systolic }}<span class="unit">mmHg</span></div>
        </div>
        <div class="small-metric">
          <div class="metric-label">Diastolic</div>
          <div class="metric-value">{{ diastolic }}<span class="unit">mmHg</span></div>
        </div>
        <div class="small-metric">
          <div class="metric-label">O‚ÇÇ Sat</div>
          <div class="metric-value">{{ oxygenLevel }}<span class="unit">%</span></div>
        </div>
      </div>
    </div>

    <!-- Right: History Graph -->
    <div class="history-card">
      <div class="card-header">
        <h3>üìà Heart Rate History</h3>
        <div class="time-range">Last 60 minutes</div>
      </div>
      <div class="graph-container">
        <div class="graph">
          <div *ngFor="let point of heartHistory" 
               class="graph-point" 
               [style.height]="getGraphHeight(point.value) + '%'"
               [title]="point.value + ' BPM'">
            <div class="point-value">{{ point.value }}</div>
          </div>
        </div>
        <div class="graph-labels">
          <span *ngFor="let point of heartHistory" class="time-label">{{ point.time }}</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Bottom Stats -->
  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-icon">‚ù§Ô∏è</div>
      <div class="stat-content">
        <div class="stat-label">Resting HR</div>
        <div class="stat-value">{{ restingHeartRate }}</div>
        <div class="stat-unit">BPM</div>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon">üìä</div>
      <div class="stat-content">
        <div class="stat-label">Variability</div>
        <div class="stat-value">{{ hrv }}</div>
        <div class="stat-unit">ms</div>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon">‚ö°</div>
      <div class="stat-content">
        <div class="stat-label">Max Today</div>
        <div class="stat-value">{{ maxToday }}</div>
        <div class="stat-unit">BPM</div>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon">üìâ</div>
      <div class="stat-content">
        <div class="stat-label">Min Today</div>
        <div class="stat-value">{{ minToday }}</div>
        <div class="stat-unit">BPM</div>
      </div>
    </div>
  </div>

  <!-- Last Updated -->
  <div class="footer">
    <div class="last-updated">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="10"/>
        <polyline points="12 6 12 12 16 14"/>
      </svg>
      <span>Last updated: {{ lastUpdate | date:'HH:mm:ss' }}</span>
    </div>
    <div class="update-frequency">Updates every 3 seconds</div>
  </div>
</div>